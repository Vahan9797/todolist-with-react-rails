{"version":3,"sources":["components/TodoModal.jsx","components/Todos.jsx","components/Home.jsx","routes/index.js","index.jsx"],"names":["TodoModal","formRef","React","createRef","state","visible","onFinish","values","fetch","method","headers","body","JSON","stringify","then","data","ok","handleCancel","json","Error","props","reloadTodos","catch","err","console","error","showModal","setState","type","onClick","this","title","onCancel","footer","ref","layout","Item","name","label","rules","required","message","placeholder","htmlType","Component","Todos","columns","dataIndex","key","width","align","render","_text","record","onConfirm","deleteTodo","id","okText","cancelText","handleClick","todos","loadTodos","forEach","todo","newEl","content","checked","prevState","className","dataSource","pagination","pageSize","Header","Layout","Content","Footer","Home","style","padding","margin","textAlign","path","exact","component","ReactDOM","Routes","document","getElementById"],"mappings":"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","file":"static/js/main.6ce423ae.chunk.js","sourcesContent":["import { Button, Form, Input, Modal } from \"antd\";\nimport React, { Component } from \"react\";\n\nclass TodoModal extends Component {\n  formRef = React.createRef();\n  state = {\n    visible: false,\n  };\n\n  onFinish = (values) => {\n    fetch(\"api/todos/\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(values),\n    })\n      .then((data) => {\n        if (data.ok) {\n          this.handleCancel();\n\n          return data.json();\n        }\n        throw new Error(\"Network error.\");\n      })\n      .then(() => {\n        this.props.reloadTodos();\n      })\n      .catch((err) => console.error(\"Error: \" + err));\n  };\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <Button type=\"primary\" onClick={this.showModal}>\n          Create New +\n        </Button>\n\n        <Modal title=\"Add New Todo ...\" visible={this.state.visible} onCancel={this.handleCancel} footer={null}>\n          <Form ref={this.formRef} layout=\"vertical\" onFinish={this.onFinish}>\n            <Form.Item name=\"content\" label=\"Content\" rules={[{ required: true, message: \"Please input the action you need To Do.\" }]}>\n              <Input placeholder=\"Input your ToDo action...\" />\n            </Form.Item>\n            <Form.Item>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Submit\n              </Button>\n            </Form.Item>\n          </Form>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default TodoModal;","import { Table, message, Popconfirm, Button } from \"antd\";\nimport React, { Component } from \"react\";\nimport TodoModal from \"./TodoModal\";\nimport '../styles/todos.css';\n\nclass Todos extends Component {\n  columns = [\n    {\n      title: \"Content\",\n      dataIndex: \"content\",\n      key: \"content\",\n      width: \"88%\",\n      align: \"center\"\n    },\n\n    {\n      title: \"Checked\",\n      dataIndex: \"checked\",\n      key: \"checked\",\n      width: \"12%\",\n      align: \"center\"\n    },\n\n    {\n      title: \"\",\n      key: \"action\",\n      render: (_text, record) => (\n        <Popconfirm title=\"Are you sure to delete this todo?\" onConfirm={() => this.deleteTodo(record.id)} okText=\"Yes\" cancelText=\"No\">\n            <Button type=\"danger\" onClick={this.handleClick}>Delete</Button>\n        </Popconfirm>\n      ),\n    },\n  ];\n\n  state = {\n    todos: [],\n  };\n\n  componentDidMount() {\n    this.loadTodos();\n  }\n\n  loadTodos = () => {\n    fetch(\"api/todos/index\")\n      .then((data) => {\n        if (data.ok) {\n          return data.json();\n        }\n        throw new Error(\"Network error.\");\n      })\n      .then((data) => {\n        data.forEach((todo) => {\n          const newEl = {\n            key: todo.id,\n            id: todo.id,\n            content: todo.content,\n            checked: todo.checked,\n          };\n\n          this.setState(prevState => ({\n            todos: [...prevState.todos, newEl],\n          }));\n        });\n      })\n      .catch(err => message.error(\"Error: \" + err));\n  };\n\n  reloadTodos = () => {\n    this.setState({ todos: [] });\n    this.loadTodos();\n  };\n\n  deleteTodo = id => {\n    fetch(`api/todos/${id}`, {\n      method: \"delete\",\n    })\n      .then((data) => {\n        if (data.ok) {\n          this.reloadTodos();\n          return data.json();\n        }\n        throw new Error(\"Network error.\");\n      })\n      .catch((err) => message.error(\"Error: \" + err));\n  };\n\n  render() {\n    return (\n      <div className=\"todos-list\">\n        <Table className=\"table-striped-rows\" dataSource={this.state.todos} columns={this.columns} pagination={{ pageSize: 5 }} />\n\n        <TodoModal reloadTodos={this.reloadTodos} />\n      </div>\n    );\n  }\n}\n\nexport default Todos;","import { Layout } from \"antd\";\nimport React from \"react\";\nimport Todos from \"./Todos\";\nimport '../styles/home.css';\n\nconst { Header, Content, Footer } = Layout;\n\nconst Home = () => (\n  <Layout className=\"layout\">\n    <Header>\n      <h1>My TODO List</h1>\n    </Header>\n\n    <Content style={{ padding: \"0 50px\" }}>\n      <div className=\"site-layout-content\" style={{ margin: \"100px auto\" }}>\n        <h1>Todo List</h1>\n        <Todos />\n      </div>\n    </Content>\n\n    <Footer style={{ textAlign: \"center\" }}>Simple Todo List Â©2021.</Footer>\n  </Layout>\n)\n\nexport default Home;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"../components/Home\";\n\nexport default (\n  <Router>\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n    </Switch>\n  </Router>\n);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./routes/index\";\nimport \"antd/dist/antd.css\";\n\nReactDOM.render(<>{Routes}</>, document.getElementById('root'))"],"sourceRoot":""}